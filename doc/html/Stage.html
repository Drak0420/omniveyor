<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Omniveyor: (1) Peeling</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Omniveyor
   </div>
   <div id="projectbrief">Root Repository for the OmniVeyor Robots</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">(1) Peeling </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Until N rows are received, the peeling algorithm is executed:</p>
<p>Columns have 3 states:</p>
<p>(1) Peeled - Solved by a row during peeling process. (2) Deferred - Will be solved by a row during Gaussian Elimination. (3) Unmarked - Still deciding.</p>
<p>Initially all columns are unmarked.</p>
<p>As a row comes in, the count of columns that are Unmarked is calculated. If that count is 1, then the column is marked as Peeled and is solved by the received row. Peeling then goes through all other rows that reference that peeled column, reducing their count by 1, potentially causing other columns to be marked as Peeled. This "peeling avalanche" is desired.</p>
<p>If using a naive approach, this is by far the most complex step of the matrix solver. The approach outlined here makes it much easier. At this point the matrix has been re-organized into peeled and deferred rows and columns: </p><pre class="fragment">+-----------------------+
| P P P P P | D D | M M |
+-----------------------+
            X
+-----------+-----+-----+
| 5 2 6 1 3 | 4 0 | 7 8 |
+-----------+-----+-----+---+   +---+
| 1         | 0 0 | 1 0 | 0 |   | P |
| 0 1       | 0 0 | 0 1 | 5 |   | P |
| 1 0 1     | 1 0 | 1 0 | 3 |   | P |
| 0 1 0 1   | 0 0 | 0 1 | 4 |   | P |
| 0 1 0 1 1 | 1 1 | 1 0 | 1 |   | P |
+-----------+-----+-----+---| = |---|
| 1 1 0 1 1 | 1 1 | 1 0 | 7 |   | 0 |
| 1 0 1 1 0 | 1 0 | 0 1 | 8 |   | 0 |
+-----------+-----+-----+---+   +---+
| 0 1 1 0 0 | 1 1 | 0 1 | 2 |   | D |
| 0 1 0 1 0 | 0 1 | 1 0 | 6 |   | D |
+-----------+-----+-----+---|   |---|
      ^          ^     ^- Mixing columns
      |          \------- Deferred columns
      \-----------------\ Peeled columns intersections
                        | with deferred rows.
</pre><p>P = Peeled rows/columns (re-ordered) D = Deferred rows/columns (order of deferment) M = Mixing columns always deferred for GE 0 = Dense rows always deferred for GE; they sum to 0</p>
<p>Since the re-ordered matrix above is in lower triangular form, and since the weight of each row is limited to a constant, the cost of diagonalizing the peeled matrix is O(n). Diagonalizing the peeled matrix will cause the mix and deferred columns to add up and become dense. These columns are stored in the same order as in the GE matrix, in a long vertical matrix with N rows, called the Compression matrix.</p>
<p>After diagonalizing the peeling matrix, the peeling matrix will be the identity matrix. Peeled column output blocks can be used to store the temporary block values generated by this process. These temporary blocks will be overwritten and lost later during Substitution.</p>
<p>To finish compressing the matrix into a form for Gaussian elimination, all of the peeled columns of the deferred/dense rows must be zeroed. Wherever a column is set to 1 in a deferred/dense row, the Compression matrix row that solves that peeled column is added to the deferred row. Essentially the peeled column intersection with the deferred rows are multiplied by the peeled matrix to produce initial row values and matrix rows for the GE matrix in the lower right.</p>
<p>This process does not actually produce any final column values because at this point it is not certain where those values will end up. Instead, a record of what operations were performed needs to be stored and followed later after the destination columns are determined by Gaussian elimination. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
