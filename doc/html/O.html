<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Omniveyor: (1) Heavy Row Structure</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Omniveyor
   </div>
   <div id="projectbrief">Root Repository for the OmniVeyor Robots</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">(1) Heavy Row Structure </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The heavy rows are made up of bytes instead of bits. Each byte represents a number in the Galois field GF(2^^8) defined by the generator polynomial 0x15F.</p>
<p>The heavy rows are designed to make it easier to find pivots in just the last few columns of the GE matrix. This design choice was made because it allows a constant-time algorithm to be employed that will reduce the fail rate from &gt;70% to &lt;3%. It is true that with heavy loss rates, the earlier columns can be where the pivot is needed. However in my estimation it would be better to increase the number of dense rows instead to handle this problem than to increase the number of heavy rows. The result is that we can assume missing pivots occur near the end.</p>
<p>The number of heavy rows required is at least 5. This is because the heavy rows are used to fill in for missing pivots in the GE matrix and the miss rate is about 1/2 because it's random and binary. The odds of the last 5 columns all being zero in the binary rows is 1/32. And the odds of a random GF(256) matrix not being invertible is also around 1/32, therefore it needs at least 5 heavy rows. With less than 5 rows, the binary matrix fail rate would dominate the overall rate of invertibility. After 5 heavy rows, less likely problems can be overcome, so 6 heavy rows were chosen for the baseline version.</p>
<p>An important realization is that almost all of the missing pivots occur within the last M columns of the GE matrix, even for large matrices.</p>
<p>So, the heavy matrix is always 6xM, where M is around 12. Since the heavy matrix never gets any larger, the execution time doesn't vary based on N, and for large enough N it only lowers throughput imperceptibly while still providing a huge reduction in fail rate. </p><pre class="fragment">The overall matrix structure can be visualized as:

+-----------+-----------+---------------------+
|           |           |                     |
|  Dense    |  Dense    |    Dense Mixing     |
|  Deferred |  Mixing   |    Heavy Overlap    |
|           |           |                     |
+-----------+-----------+---------------------+
            |           |                     |
    Zero    |  Deferred |    Deferred Mixing  |
    -ish    |  Mixing   |    Heavy Overlap    |
            |           |                     |
+-----------+-----------+---------------------+
|                       |                     |
|   Extra Binary Rows   |   Extra Heavy Rows  | &lt;-- Uninitialized
|                       |                     |
+-----------------------+-------------+-------+
                        |             |       |
    Implicitly Zero     |      H      |   I   | &lt;-- 6x6 Identity matrix
    (Not Allocated)     |             |       |
                        +-------------+-------+

The heavy matrix H is a Cauchy matrix.  Its elements are selected
from a run of the CM256 codec.
</pre> </div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
